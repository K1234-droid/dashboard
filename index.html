<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n-key="page.title">Tab Baru</title>

    <link rel="stylesheet" href="css/styles.css">
    
    <link rel="icon" href="favicon.ico">
</head>
<body class="text-gray-900">

    <div class="hover-dead-zone-top"></div>

    <div class="info-section fixed">
        <h1 id="greeting" class="text-4xl font-bold mb-2"></h1>
        <p id="description" class="description mb-4"></p>
        <hr class="separator">
        <div class="time-info text-lg">
            <p id="date"></p>
            <p id="time-container">
                <span id="time-main"></span><span id="time-seconds"></span>
            </p>
        </div>
    </div>

    <div class="container mx-auto p-4">
        <img src="assets/images/avatar-fullbody.webp" alt="Avatar Assistant" class="avatar-full hidden" loading="lazy">
    </div>

    <footer class="footer p-4">
        <div class="footer-content flex items-center justify-end space-x-4">

            <span id="account-message" class="footer-text offline-message" data-i18n-key="footer.account" data-i18n-value="K1234">Anda sebagai K1234</span>

            <span id="offline-message" class="footer-text offline-message" data-i18n-key="footer.offline">Anda sedang offline</span>

            <span id="loading-message" class="footer-text loading-message" data-i18n-key="footer.checking">Memeriksa koneksi</span>

            <span class="footer-text credit-text" data-i18n-key="footer.credit">
                Ilustrasi karakter dibuat menggunakan Google Imagen 4
            </span>

            <div id="avatar-menu-container" class="avatar-menu-container" data-tooltip="Pengaturan Dashboard" data-i18n-key="footer.tooltip.settings">
                <img id="avatar-logo-btn" src="assets/images/avatar-logo.webp" alt="Avatar Logo" class="avatar-logo">
                <div id="menu-popup" class="menu-popup">
                    <button id="open-username-modal-btn" class="menu-btn" data-i18n-key="menu.changeUsername">Ubah Username</button>
                    <button id="open-theme-modal-btn" class="menu-btn" data-i18n-key="menu.adjustTheme">Sesuaikan Tema</button>
                    <button id="open-other-settings-modal-btn" class="menu-btn" data-i18n-key="menu.otherSettings">Pengaturan Lainnya</button>
                    <button id="open-about-modal-btn" class="menu-btn" data-i18n-key="menu.about">Tentang Dashboard</button>
                </div>
            </div>

        </div>
    </footer>
    
    <div id="username-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n-key="settings.username.title">Ubah Pengguna</h3>
                <button id="close-username-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-item-column">
                    <label for="username-input" class="modal-label" data-i18n-key="settings.username.label">Username (Maks. 6 karakter)</label>
                    <input type="text" id="username-input" class="modal-input" maxlength="6">
                    <p id="username-feedback" class="feedback-text"></p>
                </div>
                <button id="save-username-btn" class="modal-save-btn" data-i18n-key="settings.username.save">Simpan</button>
            </div>
        </div>
    </div>
        
    <div id="theme-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n-key="settings.theme.title">Pilih Tampilan</h3>
                <button id="close-theme-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="theme-options">
                    <button id="theme-light-btn" class="theme-btn" data-i18n-key="settings.theme.light">Terang</button>
                    <button id="theme-dark-btn" class="theme-btn" data-i18n-key="settings.theme.dark">Gelap</button>
                    <button id="theme-system-btn" class="theme-btn active" data-i18n-key="settings.theme.system">Default Perangkat</button>
                </div>
                
                <div class="switch-container">
                    <label for="theme-preview-checkbox" class="switch-label" data-i18n-key="settings.theme.showPreview">Tampilkan Pratinjau Halaman</label>
                    <label class="switch">
                        <input type="checkbox" id="theme-preview-checkbox">
                        <span class="slider"></span>
                    </label>
                </div>

                <p class="preview-esc-message" data-i18n-key="settings.theme.escInfo">Tekan tombol "Esc" pada keyboard untuk keluar window</p>

            </div>
        </div>
    </div>

    <div id="other-settings-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n-key="menu.otherSettings">Pengaturan Lainnya</h3>
                <button id="close-other-settings-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <h4 class="sub-judul" data-i18n-key="settings.language.title">Pilihan Bahasa</h4>
                <div class="switch-container">
                    <label class="switch-label" data-i18n-key="settings.language.allContent">Semua Konten Tampilan</label>
                    <div class="custom-select-container">
                        <div id="lang-select-ui" class="custom-select" tabindex="0">
                            <span>Indonesia</span><span class="select-arrow"></span>
                        </div>
                        <div class="custom-select-options">
                            <div class="custom-option" data-value="id">Indonesia</div>
                            <div class="custom-option" data-value="en">English</div>
                            <div class="custom-option" data-value="ja">日本語</div>
                        </div>
                    </div>
                </div>
                <div class="switch-container">
                    <label for="apply-to-all-switch" class="switch-label" data-i18n-key="settings.language.applyAll">Terapkan ke Semua Konten</label>
                    <label class="switch">
                        <input type="checkbox" id="apply-to-all-switch">
                        <span class="slider"></span>
                    </label>
                </div>
                <div id="lang-container-greeting" class="switch-container">
                    <label class="switch-label" data-i18n-key="settings.language.greeting">Ucapan Salam</label>
                    <div class="custom-select-container">
                        <div id="lang-select-greeting" class="custom-select" tabindex="0">
                             <span>Indonesia</span><span class="select-arrow"></span>
                        </div>
                        <div class="custom-select-options">
                            <div class="custom-option" data-value="id">Indonesia</div>
                            <div class="custom-option" data-value="en">English</div>
                            <div class="custom-option" data-value="ja">日本語</div>
                        </div>
                    </div>
                </div>
                <div id="lang-container-description" class="switch-container">
                    <label class="switch-label" data-i18n-key="settings.language.description">Deskripsi</label>
                    <div class="custom-select-container">
                        <div id="lang-select-description" class="custom-select" tabindex="0">
                            <span>Indonesia</span><span class="select-arrow"></span>
                        </div>
                        <div class="custom-select-options">
                            <div class="custom-option" data-value="id">Indonesia</div>
                            <div class="custom-option" data-value="en">English</div>
                            <div class="custom-option" data-value="ja">日本語</div>
                        </div>
                    </div>
                </div>
                 <div id="lang-container-date" class="switch-container">
                    <label class="switch-label" data-i18n-key="settings.language.date">Hari dan Tanggal</label>
                    <div class="custom-select-container">
                        <div id="lang-select-date" class="custom-select" tabindex="0">
                            <span>Indonesia</span><span class="select-arrow"></span>
                        </div>
                        <div class="custom-select-options">
                            <div class="custom-option" data-value="id">Indonesia</div>
                            <div class="custom-option" data-value="en">English</div>
                            <div class="custom-option" data-value="ja">日本語</div>
                        </div>
                    </div>
                </div>

                <h4 class="sub-judul" data-i18n-key="settings.other.clock">Jam</h4>
                <div class="switch-container">
                    <label for="show-seconds-switch" class="switch-label" data-i18n-key="settings.other.showSeconds">Tampilkan Detik</label>
                    <label class="switch">
                        <input type="checkbox" id="show-seconds-switch">
                        <span class="slider"></span>
                    </label>
                </div>

                <h4 class="sub-judul" data-i18n-key="settings.other.visual">Visual</h4>
                <div class="switch-container">
                    <label for="blur-menu-switch" class="switch-label" data-i18n-key="settings.other.blurMenu">Aktifkan Efek Blur Background Menu</label>
                    <label class="switch">
                        <input type="checkbox" id="blur-menu-switch">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="switch-container">
                    <label for="blur-footer-switch" class="switch-label" data-i18n-key="settings.other.blurFooter">Aktifkan Efek Blur Footer</label>
                    <label class="switch">
                        <input type="checkbox" id="blur-footer-switch">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <h4 class="sub-judul" data-i18n-key="settings.other.interactiveChar">Gambar Karakter Interaktif</h4>
                <div class="switch-container">
                    <label for="avatar-full-show" class="switch-label" data-i18n-key="settings.other.showChar">Tampilkan Karakter</label>
                    <label class="switch">
                        <input type="checkbox" id="avatar-full-show">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="switch-container">
                    <label for="avatar-animation-switch" class="switch-label" data-i18n-key="settings.other.enableAnim">Aktifkan Animasi Interaktif</label>
                    <label class="switch">
                        <input type="checkbox" id="avatar-animation-switch">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="switch-container">
                    <label for="detect-mouse-stillness-switch" class="switch-label" data-i18n-key="settings.other.detectMouse">Deteksi Mouse Diam</label>
                    <label class="switch">
                        <input type="checkbox" id="detect-mouse-stillness-switch">
                        <span class="slider"></span>
                    </label>
                </div>
                <p class="setting-help-text" data-i18n-key="settings.other.animHelp">Animasi interaktif akan dimulai setelah kursor diam di atas gambar karakter selama 0,3 detik untuk menghindari interaksi yang tidak disengaja.</p>
                
                <p class="setting-item"><span data-i18n-key="settings.other.support">Dukungan gambar karakter interaktif:</span> <span id="avatar-status-text"></span></p>
                <p id="avatar-help-text" class="setting-help-text" data-i18n-key="settings.other.supportHelp">Atur ke resolusi layar lebih tinggi untuk mendapat dukungan gambar karakter interaktif.
                    Minimal 480px (lebar) x 510px (tinggi)</p>

                <h4 class="sub-judul" data-i18n-key="settings.hidden.title">Fitur Tersembunyi</h4>
                <div class="switch-container">
                    <label for="hidden-feature-switch" class="switch-label" data-i18n-key="settings.hidden.enable">Aktifkan Fitur Tersembunyi</label>
                    <label class="switch">
                        <input type="checkbox" id="hidden-feature-switch">
                        <span class="slider"></span>
                    </label>
                </div>
                <div id="pin-settings-container" class="hidden">
                    <div class="setting-item-column">
                        <label for="pin-input" class="modal-label" data-i18n-key="settings.security.pinLabel">Buat/Ubah PIN Prompt Karakter (4 digit)</label>
                        <input type="password" id="pin-input" class="modal-input pin-input-field" maxlength="4" placeholder="••••">
                        <p id="pin-feedback" class="feedback-text"></p>
                    </div>
                    <div class="modal-button-group">
                        <button id="how-it-works-btn" class="modal-secondary-btn" data-i18n-key="hiddenFeature.howItWorks.button">Cara Kerja</button>
                        <button id="update-pin-btn" class="modal-save-btn" data-i18n-key="settings.hidden.updatePin">Perbarui PIN</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="about-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n-key="menu.about">Tentang Dashboard</h3>
                <button id="close-about-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body about-body">
                <p data-i18n-key="about.p1">Halaman ini bertujuan untuk menggantikan halaman beranda yang ada pada browser. Terima kasih telah menggunakan.</p>
                <h4 class="sub-judul" data-i18n-key="about.featuresTitle">Apa Saja Fitur-Fiturnya?</h4>
                <ul>
                    <li data-i18n-key="about.f1">Informasi waktu real-time</li>
                    <li data-i18n-key="about.f2">Penyesuaian tema gelap, terang, atau default perangkat</li>
                    <li data-i18n-key="about.f3">Ilustrasi karakter</li>
                    <li data-i18n-key="about.f4">Status koneksi internet jika sedang offline</li>
                </ul>
                <p data-i18n-key="about.p2">Untuk info selengkapnya, silahkan download dan kunjungi halaman <a href="readme.md" class="readme-link">readme.md</a>.</p>
                <h4 class="sub-judul" data-i18n-key="about.notesTitle">Catatan</h4>
                <p data-i18n-key="about.n1">Penerapan fitur tema terang dan gelap hanya berlaku untuk halaman dashboard ini.</p>
                <p data-i18n-key="about.n2">Pada resolusi layar di atas 930px, arahkan mouse ke karakter untuk melihat lebih dekat.
                    Cek dukungan gambar karakter interaktif melalui menu "Pengaturan Lainnya".</p>
                <h4 class="sub-judul" data-i18n-key="about.creditTitle">Kredit</h4>
                <p data-i18n-key="about.c1">Font:</p>
                <ul>
                    <li data-i18n-key="about.d1">Poppins - Indian Type Foundry, Jonny Pinhorn, dan Ninad Kale</li>
                </ul>
                <p data-i18n-key="about.c2">Font untuk bahasa Jepang:</p>
                <ul>
                    <li data-i18n-key="about.d2">Noto Sans Japanese - Adobe</li>
                </ul>
                <p data-i18n-key="about.c3">Gambar karakter:</p>
                <ul>
                    <li data-i18n-key="about.d3">Google Imagen 4</li>
                </ul>
                <p data-i18n-key="about.c4">Website di buat oleh:</p>
                <ul>
                    <li data-i18n-key="about.d4">Danny Bungai</li>
                </ul>
                <h4 class="sub-judul" data-i18n-key="about.versionTitle">Versi Website</h4>
                <p>3.4</p>
            </div>
        </div>
    </div>

    <div id="pin-enter-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n-key="pin.enter.title">Masukkan PIN</h3>
                <button id="close-pin-enter-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-item-column">
                    <label for="pin-enter-input" class="modal-label" data-i18n-key="pin.enter.label">PIN 4 Digit</label>
                    <input type="password" id="pin-enter-input" class="modal-input pin-input-field" maxlength="4" inputmode="numeric">
                    <p id="pin-enter-feedback" class="feedback-text"></p>
                </div>
                <button id="submit-pin-btn" class="modal-save-btn" data-i18n-key="pin.enter.submit">Masuk</button>
            </div>
        </div>
    </div>

    <div id="prompt-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n-key="prompt.listTitle">Prompt Karakter AI</h3>
                <div>
                    <button id="prompt-search-btn" class="modal-header-btn" data-i18n-key="prompt.search">Cari</button>
                    <button id="prompt-manage-btn" class="modal-header-btn" data-i18n-key="prompt.manage">Kelola</button>
                    <button id="close-prompt-modal-btn" class="close-btn">&times;</button>
                </div>
            </div>
            
            <div id="prompt-action-bar" class="prompt-action-bar hidden">
                <div id="prompt-search-content" class="action-bar-content hidden">
                    <input type="text" id="prompt-search-input" class="modal-input" placeholder=" " aria-label="Search Prompts">
                    <button id="prompt-cancel-search-btn" class="modal-secondary-btn" data-i18n-key="prompt.delete.cancel">Batal</button>
                </div>
            
                <div id="prompt-manage-content" class="action-bar-content hidden">
                    <span id="prompt-select-count">Pilih (0)</span>
                    <div class="prompt-manage-actions">
                        <button id="prompt-select-all-btn" class="modal-secondary-btn" data-i18n-key="prompt.selectAll">Pilih Semua</button>
                        <button id="prompt-delete-selected-btn" class="modal-danger-btn" data-i18n-key="prompt.menu.delete" disabled>Hapus</button>
                        <button id="prompt-cancel-manage-btn" class="modal-secondary-btn" data-i18n-key="prompt.delete.cancel">Batal</button>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div id="prompt-grid" class="prompt-grid">
                </div>
                <p id="prompt-no-results" class="prompt-no-results hidden" data-i18n-key="prompt.search.noResults">Tidak ditemukan hasil</p>
            </div>
            <div class="modal-footer">
                <span class="storage-label" data-i18n-key="prompt.storage.label">Penyimpanan Lokal</span>
                <div id="storage-indicator" class="storage-indicator">
                    <div class="storage-bar-container">
                        <div id="storage-bar" class="storage-bar"></div>
                    </div>
                    <span id="storage-text" class="storage-text" data-i18n-key="prompt.storage.loading">Memuat...</span>
                </div>
            </div>
        </div>
    </div>

    <div id="prompt-viewer-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n-key="prompt.detailTitle">Detail Prompt</h3>
                <button id="close-prompt-viewer-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-button-group prompt-actions-top">
                    <button id="copy-prompt-btn" class="modal-save-btn" data-i18n-key="prompt.menu.copy">Salin Teks</button>
                    <button id="delete-prompt-btn" class="modal-danger-btn" data-i18n-key="prompt.menu.delete">Hapus</button>
                </div>
                <p id="prompt-viewer-text"></p>
                <div class="modal-button-group">
                    <button id="edit-prompt-btn" class="modal-secondary-btn" data-i18n-key="prompt.menu.edit">Edit</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="add-edit-prompt-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="add-edit-prompt-title">Tambah Prompt Baru</h3>
                <button id="close-add-edit-prompt-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-item-column">
                    <label for="prompt-image-file-input" class="modal-label" data-i18n-key="prompt.edit.imageLabel">Pilih File Gambar dari perangkat</label>
                    
                    <div id="prompt-image-previews-container" class="image-previews-container hidden">
                        <img id="prompt-image-preview-old" src="" alt="Gambar Lama" class="image-preview">
                        <span class="preview-arrow">&rarr;</span>
                        <img id="prompt-image-preview-new" src="" alt="Gambar Baru" class="image-preview">
                    </div>
                    
                    <img id="prompt-image-preview-single" src="" alt="Pratinjau Gambar" class="image-preview hidden">
                
                    <input type="file" id="prompt-image-file-input" class="modal-input-file" accept="image/*">
                    <p id="prompt-image-help-text" class="setting-help-text" data-i18n-key="prompt.edit.imageHelp">Kosongkan jika tidak ingin mengubah gambar sampul.</p>
                </div>
                <div class="setting-item-column">
                    <label for="prompt-text-input" class="modal-label" data-i18n-key="prompt.edit.textLabel">Teks Prompt</label>
                    <textarea id="prompt-text-input" class="modal-input" rows="5"></textarea>
                </div>
                <button id="save-prompt-btn" class="modal-save-btn">Simpan Prompt</button>
            </div>
            <div class="modal-footer">
                <span class="storage-label" data-i18n-key="prompt.storage.label">Penyimpanan Lokal</span>
                <div id="storage-indicator-edit" class="storage-indicator">
                    <div class="storage-bar-container">
                        <div id="storage-bar-edit" class="storage-bar"></div>
                    </div>
                    <span id="storage-text-edit" class="storage-text" data-i18n-key="prompt.storage.loading">Memuat...</span>
                </div>
            </div>
        </div>
    </div>

    <div id="image-viewer-modal-overlay" class="modal-overlay hidden">
        <div class="image-viewer-content">
            <img id="full-image-viewer" src="" alt="Tampilan Gambar Penuh">
            <button id="close-image-viewer-modal-btn" class="close-btn image-viewer-close-btn">&times;</button>
        </div>
    </div>
    
    <div id="info-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="info-modal-title">Perhatian</h3>
                <button id="close-info-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p id="info-modal-text"></p>
            </div>
        </div>
    </div>

    <div id="create-pin-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n-key="pin.create.title">Buat PIN Keamanan</h3>
                <button id="close-create-pin-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p class="modal-description" data-i18n-key="pin.create.description">PIN akan digunakan untuk melindungi dan mengakses fitur tersembunyi.</p>
                <div class="setting-item-column">
                    <label for="create-pin-input" class="modal-label" data-i18n-key="pin.enter.label">PIN 4 Digit</label>
                    <input type="password" id="create-pin-input" class="modal-input pin-input-field" maxlength="4" inputmode="numeric">
                    <p id="create-pin-feedback" class="feedback-text"></p>
                </div>
                <button id="save-initial-pin-btn" class="modal-save-btn" data-i18n-key="settings.username.save">Simpan</button>
            </div>
        </div>
    </div>

    <div id="confirmation-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="confirmation-modal-title" data-i18n-key="prompt.delete.title">Konfirmasi Hapus</h3>
                <button id="close-confirmation-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p id="confirmation-modal-text" data-i18n-key="prompt.delete.text">Apakah Anda yakin ingin menghapus prompt ini? Tindakan ini tidak dapat diurungkan.</p>
                <div class="modal-button-group">
                    <button id="cancel-confirmation-btn" class="modal-secondary-btn" data-i18n-key="prompt.delete.cancel">Batal</button>
                    <button id="confirm-confirmation-btn" class="modal-danger-btn" data-i18n-key="prompt.delete.confirm">Ya, Hapus</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="how-it-works-modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n-key="hiddenFeature.howItWorks.title">Cara Kerja Fitur Tersembunyi</h3>
                <button id="close-how-it-works-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body how-it-works-body">
                <p data-i18n-key="hiddenFeature.howItWorks.p1">Tekan dua kali pada avatar pojok kanan bawah.</p>
                <img src="assets/images/avatar-logo.webp" alt="Avatar Logo" class="avatar-logo">
                <p data-i18n-key="hiddenFeature.howItWorks.p2">Perhatikan bahwa fitur ini akan menggunakan penyimpanan bawaan browser maksimal 5 MB.</p>
            </div>
        </div>
    </div>

    <div class="hover-dead-zone"></div>

    <script src="js/sortable.min.js"></script>
    <script src="js/protocol-check.js"></script>

    <script type="module" src="js/main.js"></script>
    
    <div id="toast-notification" class="toast-notification"></div>

</body>
</html>